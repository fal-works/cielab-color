!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t["cielab-color"]={})}(this,function(t){"use strict";function n(t,n,e,u){return t[0]=n,t[1]=e,t[2]=u,t}function e(t){return 255*function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}(Math.min(Math.max(t,0),1))}function u(t,u,o,r){const h=function(t,n,e){const u=(t[0]+16)/116,i=u+t[1]/500,o=u-t[2]/200;return e?(e[0]=n.tristimulusValues[0]*s(i),e[1]=n.tristimulusValues[1]*s(u),e[2]=n.tristimulusValues[2]*s(o),e):[n.tristimulusValues[0]*s(i),n.tristimulusValues[1]*s(u),n.tristimulusValues[2]*s(o)]}(n(c,t,u,o),l,a),d=function(t,n,e){const u=t.length,s=t[0].length,i=e||new Array(u);for(let e=0;e<u;e+=1){i[e]=0;for(let u=0;u<s;u+=1)i[e]+=t[e][u]*n[u]}return i}(i,h,f),p=n(m,e(d[0]),e(d[1]),e(d[2]));return r?[p[0],p[1],p[2],r]:[p[0],p[1],p[2]]}const s=t=>t>6/29?t*t*t:6/29*3*(6/29)*(t-16/116),i=[[3.2406255,-1.537208,-.4986286],[-.9689307,1.8757561,.0415175],[.0557101,-.2040211,1.0569959]];class o{constructor(t,n){this.name=t,this.tristimulusValues=n}}const r={D50:new o("D50",[.9642,1,.8251]),D55:new o("D55",[.9568,1,.9214]),D65:new o("D65",[.95047,1,1.08883]),E:new o("E",[1,1,1])};let l=r.D50;const c=[0,0,0],a=[0,0,0],f=[0,0,0],m=[0,0,0];t.setIlluminant=function(t){l=t},t.cielabColor=u,t.cielchColor=function(t,n,e,s){return u(t,n*Math.cos(e),n*Math.sin(e),s)},t.illuminants=r,Object.defineProperty(t,"__esModule",{value:!0})});